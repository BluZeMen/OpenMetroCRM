<div id="{{ container_id }}" style="{{ style }}"></div>
<script type="text/javascript">
    $(function () {
        var highchartConfig = {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Оперативный план поверок (на месяц)'
            },
            xAxis: {
                categories: {{ categories }}
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Количество СИ штук'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                    }
                }
            },
            tooltip: {
                headerFormat: '<b>{point.x}</b><br/>',
                pointFormat: '{series.name}: {point.y}<br/>Всего: {point.stackTotal}'
            },
            plotOptions: {
                column: {
                    stacking: 'normal',
                    dataLabels: {
                        enabled: true,
                        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                        style: {
                            textShadow: '0 0 3px black'
                        }
                    }
                },
                series: {
                    dataLabels: {
                        enabled: true,
                        formatter: function () {
                            if (this.y > 0)
                                return this.y;
                        }
                    }
                }
            },
            series: {{ series }}
        };
        {{ body }}
        $('#{{ container_id }}').highcharts(highchartConfig);
    });
</script>
